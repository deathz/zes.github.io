<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 9 - Natural Disaster: Practice Test</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --success-color: #22c55e;
            --error-color: #ef4444;
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-color: #1f2937;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            background: var(--primary-color);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        h1 { margin: 0; font-size: 2.5em; }
        h2 { margin-top: 10px; font-weight: 300; }

        .question-card {
            background: var(--card-bg);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }

        .question-header {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .reading-text {
            background-color: #f8fafc;
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
            font-size: 0.95em;
            white-space: pre-wrap;
        }

        .image-placeholder {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            background-color: #f1f5f9;
        }

        .image-desc {
            font-style: italic;
            color: #64748b;
            font-size: 0.9em;
        }

        .options-grid {
            display: grid;
            gap: 10px;
        }

        .option-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px;
            background: #fff;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.2s;
            position: relative;
        }

        .option-btn:hover:not(.disabled) {
            border-color: var(--primary-color);
            background-color: #eff6ff;
        }

        .option-btn.correct {
            background-color: #dcfce7;
            border-color: var(--success-color);
            color: #166534;
            font-weight: bold;
        }

        .option-btn.wrong {
            background-color: #fee2e2;
            border-color: var(--error-color);
            color: #991b1b;
            animation: shake 0.5s;
        }

        .explanation {
            margin-top: 20px;
            padding: 20px;
            background-color: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: 8px;
            display: none;
        }

        .explanation h4 {
            margin-top: 0;
            color: #166534;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 5px;
        }
        .tag.noun { background: #e0f2fe; color: #0369a1; }
        .tag.verb { background: #fce7f3; color: #be185d; }
        .tag.adj { background: #fef3c7; color: #b45309; }
        .tag.adv { background: #d1fae5; color: #047857; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .disabled {
            pointer-events: none;
            opacity: 0.8;
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .container { padding: 10px; }
            h1 { font-size: 1.8em; }
            .option-btn { padding: 12px; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>UNIT 9 – NATURAL DISASTER</h1>
        <h2>TEST 01 - Interactive Practice</h2>
        <p>Chọn đáp án đúng. Nếu sai, hệ thống sẽ báo đỏ. Nếu đúng, giải thích chi tiết sẽ hiện ra.</p>
    </header>

    <div id="quiz-container">
        </div>
</div>

<script>
    const questions = [
        // PRONUNCIATION
        {
            id: 1,
            type: "pronunciation",
            text: "Mark the letter A, B, C or D to indicate the word whose underlined part differs from the other three in pronunciation.",
            question: "Question 1",
            options: [
                "A. mud",
                "B. numerous",
                "C. thunderstorm",
                "D. suddenly"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích chi tiết:</b></p>
                <ul>
                    <li>A. mud /mʌd/ (âm ʌ)</li>
                    <li>B. numerous /ˈnjuːmərəs/ (âm juː)</li>
                    <li>C. thunderstorm /ˈθʌndəstɔːm/ (âm ʌ)</li>
                    <li>D. suddenly /ˈsʌdənli/ (âm ʌ)</li>
                </ul>
                <p>Phần gạch chân của đáp án B phát âm là /juː/, còn lại là /ʌ/.</p>
                <p><b>Từ vựng:</b></p>
                <ul>
                    <li><span class="tag noun">Noun</span> Mud: Bùn</li>
                    <li><span class="tag adj">Adj</span> Numerous: Nhiều, đông đảo</li>
                </ul>
            `
        },
        {
            id: 2,
            type: "pronunciation",
            text: "",
            question: "Question 2",
            options: [
                "A. violent",
                "B. whistle",
                "C. practical",
                "D. lightning"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích chi tiết:</b></p>
                <ul>
                    <li>A. violent /ˈvaɪələnt/ (âm aɪ)</li>
                    <li>B. whistle /ˈwɪsl/ (âm ɪ)</li>
                    <li>C. practical /ˈpræktɪkl/ (âm ɪ)</li>
                    <li>D. lightning /ˈlaɪtnɪŋ/ (Chờ chút: Lightning là /aɪ/, Whistle là /ɪ/, Practical là /ɪ/. Violent là /aɪ/. Khoan, hãy xem lại đề:
                    <br>A. violent /ai/ <br>B. whistle /i/ <br>C. practical /i/ <br>D. lightning /ai/
                    <br>Có vẻ đề bài gốc có vấn đề ở câu này (2 từ /ai/, 2 từ /i/). Tuy nhiên, xét theo sự khác biệt phổ biến trong bài tập SGK, thường so sánh âm 'i'. Nếu xét kỹ:
                    <br>Thông thường <i>Whistle</i>, <i>Practical</i> có âm 'i' ngắn. <i>Violent</i> có âm 'ai'. <i>Lightning</i> cũng có âm 'ai'.
                    <br>Nếu phải chọn "từ khác biệt", có thể đề muốn check âm câm hoặc trọng âm nhưng đây là bài ngữ âm.
                    <br>Tuy nhiên, dựa trên key thường gặp: Đáp án A thường được chọn vì 'violent' là 3 âm tiết, các từ kia 2? Không.
                    <br>Chúng ta sẽ chọn <b>A</b> (giả sử B, C, D cùng nhóm hoặc đề có lỗi typo ở D).
                    <br><i>Lưu ý:</i> Trong thực tế Whistle (i), Practical (i). Violent (ai), Lightning (ai). Đề bài này có thể bị lỗi ở D (lẽ ra là một từ âm /i/ như 'victim'). Tuy nhiên, tôi sẽ đặt đáp án là A theo logic 'Violent' là từ hay được đố nhất.
                    </li>
                </ul>
                <p><b>Từ vựng:</b></p>
                <ul>
                    <li><span class="tag adj">Adj</span> Violent: Bạo lực, dữ dội</li>
                    <li><span class="tag noun">Noun</span> Whistle: Cái còi</li>
                    <li><span class="tag noun">Noun</span> Lightning: Sấm sét</li>
                </ul>
            `
        },
        // STRESS
        {
            id: 3,
            type: "stress",
            text: "Mark the letter A, B, C or D to indicate the word that differs from the other three in the position of primary stress.",
            question: "Question 3",
            options: [
                "A. develop",
                "B. funnel",
                "C. damage",
                "D. funnel (duplicate in source)"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích chi tiết:</b></p>
                <ul>
                    <li>A. develop /dɪˈveləp/ (Trọng âm 2)</li>
                    <li>B. funnel /ˈfʌnl/ (Trọng âm 1)</li>
                    <li>C. damage /ˈdæmɪdʒ/ (Trọng âm 1)</li>
                    <li>D. funnel (Trọng âm 1) - <i>Lưu ý: Đề bài gốc lặp lại từ này.</i></li>
                </ul>
                <p>Đáp án A trọng âm rơi vào âm tiết thứ 2, còn lại là thứ nhất.</p>
                <p><b>Từ vựng:</b></p>
                <ul>
                    <li><span class="tag verb">Verb</span> Develop: Phát triển</li>
                    <li><span class="tag noun">Noun</span> Funnel: Cái phễu (hoặc hình phễu của lốc xoáy)</li>
                </ul>
            `
        },
        {
            id: 4,
            type: "stress",
            text: "",
            question: "Question 4",
            options: [
                "A. rescue",
                "B. strengthen",
                "C. system",
                "D. towards"
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D</h4>
                <p><b>Giải thích chi tiết:</b></p>
                <ul>
                    <li>A. rescue /ˈreskjuː/ (Trọng âm 1)</li>
                    <li>B. strengthen /ˈstreŋθn/ (Trọng âm 1)</li>
                    <li>C. system /ˈsɪstəm/ (Trọng âm 1)</li>
                    <li>D. towards /təˈwɔːdz/ (Trọng âm 2)</li>
                </ul>
                <p><b>Từ vựng:</b></p>
                <ul>
                    <li><span class="tag verb">Verb</span> Rescue: Giải cứu</li>
                    <li><span class="tag prep">Prep</span> Towards: Về phía</li>
                </ul>
            `
        },
        // VOCAB & GRAMMAR
        {
            id: 5,
            type: "vocab",
            text: "Mark the letter A, B, C or D to indicate the correct answer.",
            question: "Question 5: The volcanic _____sent plumes of ash and smoke high into the sky.",
            options: [
                "A. Eruption",
                "B. outbreak",
                "C. burst",
                "D. discharge"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Dịch:</b> Vụ phun trào núi lửa đã đẩy những cột tro và khói lên cao bầu trời.</p>
                <p><b>Giải thích:</b> Cụm từ cố định (Collocation) "Volcanic eruption" (Sự phun trào núi lửa).</p>
                <ul>
                    <li>A. Eruption (n): Sự phun trào</li>
                    <li>B. Outbreak (n): Sự bùng phát (dịch bệnh, chiến tranh)</li>
                    <li>C. Burst (n): Sự nổ tung</li>
                    <li>D. Discharge (n): Sự thải ra</li>
                </ul>
            `
        },
        {
            id: 6,
            type: "vocab",
            text: "",
            question: "Question 6: The ____ shook the region, leaving buildings damaged and roads cracked.",
            options: [
                "A. Earthquake",
                "B. shock",
                "C. tornado",
                "D. thunderstorm"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Dịch:</b> Trận động đất đã làm rung chuyển khu vực, khiến các tòa nhà bị hư hại và đường xá nứt nẻ.</p>
                <p><b>Từ khóa:</b> "shook" (rung chuyển), "roads cracked" (đường nứt) -> Dấu hiệu của động đất.</p>
                <ul>
                    <li>A. Earthquake (n): Động đất</li>
                    <li>B. Shock (n): Cú sốc</li>
                    <li>C. Tornado (n): Lốc xoáy (thường liên quan đến gió)</li>
                    <li>D. Thunderstorm (n): Bão có sấm sét</li>
                </ul>
            `
        },
        {
            id: 7,
            type: "vocab",
            text: "",
            question: "Question 7: The hurricane hit the coastal village with incredible force, leaving a trail of __ in its wake.",
            options: [
                "A. Warning",
                "B. prediction",
                "C. destruction",
                "D. property"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Dịch:</b> Cơn bão đã tấn công ngôi làng ven biển với sức mạnh khủng khiếp, để lại một vệt tàn phá sau lưng nó.</p>
                <p><b>Cụm từ:</b> "leave a trail of destruction" (để lại hậu quả tàn phá).</p>
                <ul>
                    <li>A. Warning (n): Cảnh báo</li>
                    <li>B. Prediction (n): Dự đoán</li>
                    <li>C. Destruction (n): Sự phá hủy, tàn phá</li>
                    <li>D. Property (n): Tài sản</li>
                </ul>
            `
        },
        {
            id: 8,
            type: "grammar",
            text: "",
            question: "Question 8: He is good ____ meteorology.",
            options: [
                "A. On",
                "B. in",
                "C. at",
                "D. for"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Giải thích:</b> Cấu trúc "Good at something" (Giỏi về cái gì đó).</p>
                <p><b>Dịch:</b> Anh ấy giỏi về khí tượng học.</p>
                <ul>
                    <li><span class="tag noun">Noun</span> Meteorology: Khí tượng học</li>
                </ul>
            `
        },
        {
            id: 9,
            type: "grammar",
            text: "",
            question: "Question 9: How fast _____ when the accident happened?",
            options: [
                "A. Were you driving",
                "B. did you drive",
                "C. would you drive",
                "D. were you driven"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích:</b> Hành động đang xảy ra (lái xe) thì hành động khác xen vào (tai nạn xảy ra). Hành động đang xảy ra chia Quá khứ tiếp diễn (Past Continuous).</p>
                <p><b>Công thức:</b> Was/Were + V-ing.</p>
                <p><b>Dịch:</b> Bạn đang lái xe nhanh như thế nào khi tai nạn xảy ra?</p>
            `
        },
        {
            id: 10,
            type: "grammar",
            text: "",
            question: "Question 10: While Steven and Rachel _____ around the Canary Islands, their boat ___.",
            options: [
                "A. Were sailing – sank",
                "B. sailed – sank",
                "C. sailed – was sinking",
                "D. were sailing – was sinking"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích:</b> Cấu trúc "While" trong quá khứ. Một hành động đang diễn ra (sailing) thì hành động khác cắt ngang (sank).</p>
                <ul>
                    <li>Vế 1 (đang diễn ra): Past Continuous (Were sailing)</li>
                    <li>Vế 2 (cắt ngang): Past Simple (Sank - quá khứ của Sink)</li>
                </ul>
                <p><b>Dịch:</b> Trong khi Steven và Rachel đang đi thuyền quanh quần đảo Canary, thuyền của họ đã bị chìm.</p>
            `
        },
        {
            id: 11,
            type: "grammar",
            text: "",
            question: "Question 11: Indonesia _____ by a powerful 6.9 magnitude earthquake on Friday.",
            options: [
                "A. Was stuck (Typo in source 'stuck' meant 'struck'?)",
                "B. was stucking",
                "C. stuck",
                "D. was stucken"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích:</b> Câu bị động (Passive Voice) ở thì quá khứ đơn. Indonesia "bị tấn công" bởi động đất.</p>
                <p>Động từ gốc là "Strike" -> Quá khứ "Struck" -> P2 "Struck". (Lưu ý: Đề bài ghi là "stuck" có thể là lỗi chính tả của "struck" hoặc dùng từ "stuck" nghĩa là bị kẹt, nhưng ngữ cảnh động đất thì "struck" (tấn công) chuẩn hơn. Tuy nhiên, đáp án A "Was struck" (hoặc Was stuck) là cấu trúc bị động đúng duy nhất).</p>
                <p><b>Dịch:</b> Indonesia đã bị tấn công bởi một trận động đất mạnh 6.9 độ vào thứ Sáu.</p>
            `
        },
        {
            id: 12,
            type: "vocab",
            text: "",
            question: "Question 12: There was a heavy rain which supported to _______ the forest fire.",
            options: [
                "A. Put up",
                "B. put out",
                "C. give out",
                "D. give up"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Phrasal verb "Put out" = Extinguish (Dập tắt lửa).</p>
                <ul>
                    <li>A. Put up: Dựng lên, cho ai ở nhờ</li>
                    <li>B. Put out: Dập tắt</li>
                    <li>C. Give out: Phân phát, cạn kiệt</li>
                    <li>D. Give up: Từ bỏ</li>
                </ul>
                <p><b>Dịch:</b> Có một trận mưa lớn đã hỗ trợ dập tắt đám cháy rừng.</p>
            `
        },
        // ANNOUNCEMENT GAP FILL
        {
            id: 13,
            type: "cloze",
            text: "<b>Read the announcement and choose the correct option (Q13-16).</b><br><i>ANNOUNCEMENT OF THE GRADUATION CEREMONY<br>The school Youth Union would like to announce<br>All students of Grade 12 (13) ______ present by 17:00 on Jun 29, 2024.</i>",
            question: "Question 13",
            options: [
                "A. must",
                "B. have to be",
                "C. due to",
                "D. going to"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Cần một động từ chính trong câu. "Present" ở đây là tính từ (có mặt). Do đó cần động từ "to be".</p>
                <ul>
                    <li>A. Must: Thiếu "be" (Must be present).</li>
                    <li>B. Have to be: Phải có mặt (Đúng ngữ pháp).</li>
                    <li>C. Due to: Bởi vì (Sai từ loại).</li>
                    <li>D. Going to: Thiếu "are" (Are going to be).</li>
                </ul>
                <p><b>Dịch:</b> Tất cả học sinh khối 12 phải có mặt trước 17:00...</p>
            `
        },
        {
            id: 14,
            type: "cloze",
            text: "<i>Girls are required to wear the traditional (14) ______, while boys must wear white shirts and dark pants.</i>",
            question: "Question 14",
            options: [
                "A. customs",
                "B. activities",
                "C. cultures",
                "D. costumes"
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D</h4>
                <p><b>Giải thích:</b> Dựa vào ngữ cảnh "wear" (mặc).</p>
                <ul>
                    <li>A. Customs: Phong tục</li>
                    <li>B. Activities: Hoạt động</li>
                    <li>C. Cultures: Văn hóa</li>
                    <li>D. Costumes: Trang phục</li>
                </ul>
                <p><b>Dịch:</b> Nữ sinh được yêu cầu mặc trang phục truyền thống...</p>
            `
        },
        {
            id: 15,
            type: "cloze",
            text: "<i>(15) _____parents need further information, feel free to contact Mr. Cuong at 0356.211.439.</i>",
            question: "Question 15",
            options: [
                "A. Had",
                "B. Should",
                "C. Were",
                "D. Do"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Đây là dạng Đảo ngữ của câu điều kiện loại 1 (Inversion of Conditional Type 1). Dùng "Should" đứng đầu câu thay cho "If".</p>
                <p>Cấu trúc: <i>Should + S + V, ...</i> (Nếu... thì...)</p>
                <p><b>Dịch:</b> Nếu phụ huynh cần thêm thông tin...</p>
            `
        },
        {
            id: 16,
            type: "cloze",
            text: "<i>Please contact if you (16) _____ anyone.</i>",
            question: "Question 16",
            options: [
                "A. brings",
                "B. bring",
                "C. bringing",
                "D. have brought"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Mệnh đề IF loại 1 (Hiện tại đơn).</p>
                <p>Chủ ngữ là "you" -> Động từ giữ nguyên "bring".</p>
                <p><b>Dịch:</b> Vui lòng liên hệ nếu bạn dẫn theo bất kỳ ai.</p>
            `
        },
        // CONVERSATION / ORDERING
        {
            id: 17,
            type: "ordering",
            text: "<b>Mark the letter to indicate the correct answer.</b><br>a. Thank you for your continued support and for being a valued VIP member.<br>b. Enjoy special benefits like extended warranties and priority customer service.<br>c. We are excited to offer you exclusive access to our latest electronic gadgets<br>d. Hi, Sarah! Welcome to the VIP club at our electronics store<br>e. Please reach out if you have any questions or need assistance with your new benefits.",
            question: "Question 17: Arrange the sentences.",
            options: [
                "A. d-a-b-c-e",
                "B. d-c-a-b-e",
                "C. d-a-c-b-e",
                "D. d-b-c-a-e"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C (d-a-c-b-e)</h4>
                <p><b>Trật tự logic:</b></p>
                <ol>
                    <li><b>d:</b> Chào hỏi (Hi, Sarah! Welcome...).</li>
                    <li><b>a:</b> Cảm ơn (Thank you for your support...).</li>
                    <li><b>c:</b> Thông báo quyền lợi chính/mới (Excited to offer exclusive access...).</li>
                    <li><b>b:</b> Chi tiết quyền lợi thêm (Enjoy special benefits...).</li>
                    <li><b>e:</b> Kết thúc và hỗ trợ (Please reach out...).</li>
                </ol>
            `
        },
        {
            id: 18,
            type: "ordering",
            text: "<b>Arrange the instructions:</b><br>a. To start using your new phone, first, take it out of the box and charge it fully.<br>b. Next, turn on the phone by pressing the power button on the side.<br>c. After that, use the setip guide to connect to your Wi-fi network and sign in<br>d. Then, explore the settings to change things like brightness and volume.<br>e. Finally, download any apps you need from the app store.",
            question: "Question 18",
            options: [
                "A. a-b-c-d-e",
                "B. b-a-c-d-e",
                "C. a-c-b-e-d",
                "D. a-b-e-d-c"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A (a-b-c-d-e)</h4>
                <p><b>Giải thích:</b> Các từ nối chỉ thứ tự đã rất rõ ràng trong bài:</p>
                <ol>
                    <li><b>a:</b> First (Đầu tiên)... charge it.</li>
                    <li><b>b:</b> Next (Tiếp theo)... turn on.</li>
                    <li><b>c:</b> After that (Sau đó)... connect wifi.</li>
                    <li><b>d:</b> Then (Sau đó)... settings.</li>
                    <li><b>e:</b> Finally (Cuối cùng)... download apps.</li>
                </ol>
            `
        },
        // READING GAP FILL (EROSION)
        {
            id: 19,
            type: "reading_gap",
            text: "<b>Read the passage and choose the best option (Q19-24).</b><br><i>Erosion in America<br>Erosion of America’s farmland by wind and water has been a problem since settlers first put the prairies and grassland under the plow in the nineteenth century. By the 1930s, (19) _____282 million acres of farmland...</i>",
            question: "Question 19",
            options: [
                "A. more than",
                "B. more",
                "C. less",
                "D. than"
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Dịch:</b> Đến những năm 1930, <b>hơn</b> 282 triệu mẫu đất nông nghiệp...</p>
                <p><b>Giải thích:</b> Cụm "More than" + số lượng = Hơn (bao nhiêu đó).</p>
            `
        },
        {
            id: 20,
            type: "reading_gap",
            text: "<i>...farmland (20) _____ by erosion.</i>",
            question: "Question 20",
            options: [
                "A. damaged",
                "B. was damaged",
                "C. were damaged",
                "D. damages"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Giải thích:</b></p>
                <ul>
                    <li>Chủ ngữ "282 million acres" là số nhiều -> Chọn "Were".</li>
                    <li>Cấu trúc bị động (Passive voice): "Were damaged" (đã bị tàn phá).</li>
                </ul>
            `
        },
        {
            id: 21,
            type: "reading_gap",
            text: "<i>After 40 years of (21) _____ efforts...</i>",
            question: "Question 21",
            options: [
                "A. conserve",
                "B. conservation",
                "C. conserving",
                "D. conservations"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Cần một Danh từ (Noun) để tạo thành cụm danh từ ghép "Conservation efforts" (Những nỗ lực bảo tồn).</p>
                <ul>
                    <li><span class="tag noun">Noun</span> Conservation: Sự bảo tồn</li>
                </ul>
            `
        },
        {
            id: 22,
            type: "reading_gap",
            text: "<i>...soil erosion has accelerated due to new demands (22) _____ on the land...</i>",
            question: "Question 22",
            options: [
                "A. were placed",
                "B. was placed",
                "C. which placed",
                "D. placed"
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D</h4>
                <p><b>Giải thích:</b> Mệnh đề quan hệ rút gọn (Reduced Relative Clause).</p>
                <p>Câu đầy đủ: "...demands <i>which were placed</i> on the land..."</p>
                <p>Rút gọn dạng bị động -> Giữ lại Phân từ 2 (V-ed/P2) -> "placed".</p>
            `
        },
        {
            id: 23,
            type: "reading_gap",
            text: "<i>...by heavy crop (23) _____.</i>",
            question: "Question 23",
            options: [
                "A. produce",
                "B. product",
                "C. production",
                "D. produce"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Giải thích:</b> Cần danh từ chỉ quá trình/sản lượng.</p>
                <p>"Crop production" = Sản xuất nông nghiệp/trồng trọt.</p>
                <ul>
                    <li>Produce (v): Sản xuất</li>
                    <li>Product (n): Sản phẩm (cụ thể)</li>
                    <li>Production (n): Sự sản xuất, sản lượng</li>
                </ul>
            `
        },
        {
            id: 24,
            type: "reading_gap",
            text: "<i>In the years ahead, soil erosion and the pollution problems it causes are likely to replace petroleum scracity as the nations’s most critical (24) ____ resource problem.</i>",
            question: "Question 24",
            options: [
                "A. nature",
                "B. natural",
                "C. nation",
                "D. national"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Cụm danh từ "Natural resource" (Tài nguyên thiên nhiên).</p>
                <ul>
                    <li><span class="tag adj">Adj</span> Natural: Thuộc về tự nhiên</li>
                </ul>
            `
        },
        // SENTENCE TRANSFORMATION
        {
            id: 25,
            type: "transformation",
            text: "Mark the letter A, B, C or D to indicate the sentence that is closest in meaning.",
            question: "Question 25: I was studying for my exam. My brother was playing video games in his room.",
            options: [
                "A. I studied for my exam while my brother played video games in his room.",
                "B. While I was studying for my exam, my brother was playing video games in his room.",
                "C. When I was studying for my exam, my brother was playing video games in his room.",
                "D. While I studied for my exam, my brother was playing video games in his room."
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Hai hành động xảy ra song song trong quá khứ -> Dùng "While" + Quá khứ tiếp diễn cho cả 2 vế.</p>
                <p><b>Dịch:</b> Trong khi tôi đang ôn thi, thì anh trai tôi đang chơi điện tử.</p>
            `
        },
        {
            id: 26,
            type: "transformation",
            text: "",
            question: "Question 26: This morning, I was cleaning the house. My sister was baking a cake in the kitchen.",
            options: [
                "A. This morning, I was cleaning the house, I was hearing my sister baking a cake in the kitchen.",
                "B. This morning, when I cleaned the house, my sister baked a cake in the kitchen.",
                "C. This morning, while I was cleaning the house, my sister was baking a cake in the kitchen.",
                "D. This morning, I cleaned the house while my sister was baking a cake in the kitchen."
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Giải thích:</b> Tương tự câu 25, hai hành động song song -> Dùng "While" với thì Quá khứ tiếp diễn ở cả 2 vế.</p>
            `
        },
        // SENTENCE BUILDING
        {
            id: 27,
            type: "building",
            text: "Mark the letter A, B, C or D to indicate the sentence that is made from the given cues.",
            question: "Question 27: Sometimes / more / one disaster / occur / same time.",
            options: [
                "A. Sometimes, more than one disaster occurs the same time.",
                "B. Sometimes, more than one disaster occur at same time.",
                "C. Sometimes, more than one disaster occur same time.",
                "D. Sometimes, more than one disaster occurs at the same time."
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D</h4>
                <p><b>Phân tích:</b></p>
                <ul>
                    <li>Chủ ngữ: "More than one disaster" (Nhiều hơn 1 thảm họa). Theo quy tắc ngữ pháp, "More than one + Singular Noun" chia động từ ở số ít -> <b>occurs</b>.</li>
                    <li>Cụm từ: "At the same time" (Cùng một lúc).</li>
                </ul>
                <p>Đáp án D thỏa mãn cả ngữ pháp động từ và giới từ.</p>
            `
        },
        {
            id: 28,
            type: "building",
            text: "",
            question: "Question 28: Scientist / can predict / many / the disasters / ahead / time.",
            options: [
                "A. Scientist can predict many of the disasters ahead of time.",
                "B. Scientists can predict many the disasters ahead of time.",
                "C. Scientists can predict many of the disasters ahead time.",
                "D. Scientists can predict many of the disasters ahead of time."
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D</h4>
                <p><b>Phân tích:</b></p>
                <ul>
                    <li>Chủ ngữ: "Scientists" (Các nhà khoa học) nói chung -> Số nhiều.</li>
                    <li>Cấu trúc lượng từ: "Many of the disasters" (Nhiều trong số các thảm họa).</li>
                    <li>Thành ngữ: "Ahead of time" (Trước thời hạn/sớm).</li>
                </ul>
            `
        },
        // IMAGE QUESTIONS
        {
            id: 29,
            type: "image",
            text: "<b>Question 29: What does the notice say?</b>",
            question: "[Image Description: A sign with a man and woman icon, an arrow pointing right, and text 'RESTROOMS']",
            options: [
                "A. Restrooms are in the direction shown by this sign",
                "B. The restroom is closed and you cannot use it now.",
                "C. There are no restrooms here or nearby",
                "D. Restrooms are on the other side of this place."
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Dịch:</b> Nhà vệ sinh ở theo hướng được chỉ dẫn bởi biển báo này.</p>
                <p><b>Giải thích:</b> Biển báo có mũi tên chỉ sang phải -> Chỉ hướng đi đến nhà vệ sinh.</p>
            `
        },
        {
            id: 30,
            type: "image",
            text: "<b>Question 30: What does the notice say?</b><br><span style='color:red; font-weight:bold;'>Students will have Tet holiday from February 8, 2025. They will return to school on February 15, 2025 to prepare for mid-term exams.</span>",
            question: "Choose the best description:",
            options: [
                "A. Students will return to school after 8 days of holiday and prepare for exams.",
                "B. Students’ exams will come when they return to school",
                "C. Students will have to prepare for exams after the holiday.",
                "D. Students will return to school after February 14 and prepare for exams."
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D (hoặc C tùy ngữ cảnh, nhưng D sát nghĩa đen nhất)</h4>
                <p><b>Phân tích:</b></p>
                <ul>
                    <li>Thông báo: Nghỉ từ 8/2, đi học lại vào 15/2.</li>
                    <li>Đáp án D: "Return after February 14" nghĩa là ngày 15/2. Chính xác với thông tin ngày tháng.</li>
                    <li>Đáp án C cũng đúng về mặt ý nghĩa ("chuẩn bị thi sau kỳ nghỉ"), nhưng đáp án D chứa thông tin thời gian cụ thể thường được ưu tiên trong bài kiểm tra đọc biển báo.</li>
                </ul>
                <p><b>Dịch đáp án D:</b> Học sinh sẽ trở lại trường sau ngày 14/2 và chuẩn bị cho các kỳ thi.</p>
            `
        },
        // READING COMPREHENSION (TSUNAMI)
        {
            id: 31,
            type: "reading_comp",
            text: "<b>Read the passage and choose the correct answer (Q31-36).</b><br><i>WHAT IS A TSUNAMI... (Refer to full text in prompt)</i><br>...The tsunami may suddenly rise into a wave ten to one hundred feet high...",
            question: "Question 31: What is the main idea of the passage?",
            options: [
                "A. How tsunamis are formed and their impact",
                "B. How tides affect the ocean",
                "C. The history of the word “tsunami”",
                "D. How earthquakes destroy coastal cities."
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích:</b> Bài đọc nói về định nghĩa, nguyên nhân hình thành (động đất, núi lửa...), tốc độ di chuyển và tác động tàn phá của sóng thần.</p>
                <p><b>Dịch:</b> Cách sóng thần hình thành và tác động của chúng.</p>
            `
        },
        {
            id: 32,
            type: "reading_comp",
            text: "",
            question: "Question 32: Which word has the same meaning as “disaster” in the text?",
            options: [
                "A. Warning",
                "B. Tragedy",
                "C. Motion",
                "D. Ground"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> "Disaster" (Thảm họa) đồng nghĩa với "Tragedy" (Bi kịch/Thảm kịch).</p>
                <ul>
                    <li><span class="tag noun">Noun</span> Disaster: Thảm họa</li>
                    <li><span class="tag noun">Noun</span> Tragedy: Bi kịch</li>
                </ul>
            `
        },
        {
            id: 33,
            type: "reading_comp",
            text: "",
            question: "Question 33: Which word is the OPPOSITE of “shallow” as used in the text?",
            options: [
                "A. High",
                "B. Deep",
                "C. Slow",
                "D. Low"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> "Shallow" (Nông). Trái nghĩa là "Deep" (Sâu).</p>
                <p>Trong bài có cụm "In the deep waters..." (Ở vùng nước sâu).</p>
            `
        },
        {
            id: 34,
            type: "reading_comp",
            text: "",
            question: "Question 34: Which of the following is NOT TRUE according to the text?",
            options: [
                "A. Most tsunamis happen in the Pacific Ocean",
                "B. Tsunamis are caused by tides",
                "C. Tsunamis can travel at high speeds in deep water",
                "D. People are warned about tsunamis through special networks."
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b></p>
                <ul>
                    <li>Bài đọc ghi: "Tsunamis, unlike normal ocean waves, are <b>not caused by tides</b>." (Sóng thần KHÔNG bị gây ra bởi thủy triều).</li>
                    <li>Đáp án B nói "gây ra bởi thủy triều" -> Sai (Chọn B).</li>
                </ul>
            `
        },
        {
            id: 35,
            type: "reading_comp",
            text: "",
            question: "Question 35: What usually causes a tsunami to form?",
            options: [
                "A. High tides on the ocean surface",
                "B. Large movements on the ocean floor",
                "C. Strong winds blowing across the sea",
                "D. Ripples causes by boats"
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Bài đọc ghi: "Tsunamis are caused by a sudden, large motion on the ocean floor." (Gây ra bởi chuyển động lớn đột ngột dưới đáy đại dương).</p>
            `
        },
        {
            id: 36,
            type: "reading_comp",
            text: "",
            question: "Question 36: Why are tsunamis hard to see in the middle of the ocean?",
            options: [
                "A. They travel too slowly",
                "B. Their speed makes them invisible",
                "C. Their height is low in deep water",
                "D. The ocean water blocks the waves"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Giải thích:</b> Bài đọc ngụ ý rằng chiều cao sóng chỉ tăng lên ("builds") khi vào gần bờ. Ở ngoài khơi ("Out in the ocean"), nó khó nhìn thấy -> Nghĩa là chiều cao thấp.</p>
                <p><b>Dịch:</b> Chiều cao của chúng thấp ở vùng nước sâu.</p>
            `
        },
        // SENTENCE INSERTION
        {
            id: 37,
            type: "insertion",
            text: "<b>Fill in the blanks (Q37-40).</b><br><i>Vietnam usually has a dozen storms every year... November 2nd, 1997, however, (37) ______ . Linda was the worst typhoon in Southern Vietnam over 100 years.</i>",
            question: "Question 37",
            options: [
                "A. causing flash flooding and at least 164 deaths",
                "B. Formed in the sea of the Philippines",
                "C. was an unexpected day when the major storm Linda raged in the South",
                "D. Later, it struck extreme Southern Vietnam with winds of 100 kilometres an hour"
            ],
            correct: 2, // C
            explanation: `
                <h4>✅ Đáp án đúng: C</h4>
                <p><b>Giải thích:</b> Câu trước nói về ngày tháng (Nov 2nd, 1997). Vị trí này cần một mệnh đề giới thiệu sự kiện xảy ra vào ngày đó.</p>
                <p>"...was an unexpected day when the major storm Linda raged..." (...là một ngày bất ngờ khi cơn bão lớn Linda hoành hành...). Phù hợp để dẫn vào câu sau giới thiệu về bão Linda.</p>
            `
        },
        {
            id: 38,
            type: "insertion",
            text: "<i>(38) _______ , Linda strengthened as it moved westward.</i>",
            question: "Question 38",
            options: [
                "A. causing flash flooding and at least 164 deaths",
                "B. Formed in the sea of the Philippines",
                "C. ...",
                "D. Later, it struck..."
            ],
            correct: 1, // B
            explanation: `
                <h4>✅ Đáp án đúng: B</h4>
                <p><b>Giải thích:</b> Cần một cụm phân từ (Past Participle Phrase) chỉ nguồn gốc trước khi bão di chuyển.</p>
                <p>"Formed in the sea of the Philippines" (Được hình thành ở vùng biển Philippines), Linda mạnh lên khi di chuyển về phía tây.</p>
            `
        },
        {
            id: 39,
            type: "insertion",
            text: "<i>(39) ______ . Over 3000 people were reported lost and died. Ca Mau province... had the most damage.</i>",
            question: "Question 39",
            options: [
                "A. causing flash flooding...",
                "B. Formed in the sea...",
                "C. ...",
                "D. Later, it struck extreme Southern Vietnam with winds of 100 kilometres an hour"
            ],
            correct: 3, // D
            explanation: `
                <h4>✅ Đáp án đúng: D</h4>
                <p><b>Giải thích:</b> Trước khi nói về thiệt hại (người chết, Cà Mau...), cần nói bão đổ bộ vào đâu.</p>
                <p>"Later, it struck extreme Southern Vietnam..." (Sau đó, nó đổ bộ vào cực Nam Việt Nam...). Câu này dẫn dắt logic đến việc Cà Mau (miền Nam) bị thiệt hại nặng nhất.</p>
            `
        },
        {
            id: 40,
            type: "insertion",
            text: "<i>Linda later struck Thailand, (40) _____ . The storm also affected Myanmar...</i>",
            question: "Question 40",
            options: [
                "A. causing flash flooding and at least 164 deaths",
                "B. ...",
                "C. ...",
                "D. ..."
            ],
            correct: 0, // A
            explanation: `
                <h4>✅ Đáp án đúng: A</h4>
                <p><b>Giải thích:</b> Mệnh đề quan hệ rút gọn dạng chủ động (V-ing) chỉ kết quả hành động trước đó.</p>
                <p>"...struck Thailand, <b>causing</b> flash flooding..." (...đổ bộ Thái Lan, <b>gây ra</b> lũ quét và ít nhất 164 cái chết).</p>
            `
        }
    ];

    const quizContainer = document.getElementById('quiz-container');

    function renderQuiz() {
        questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            
            let html = `<div class="question-header">${q.question}</div>`;
            
            if (q.text) {
                html += `<div class="reading-text">${q.text}</div>`;
            }

            // Special handling for image questions placeholder
            if (q.id === 29) {
                html += `<div class="image-placeholder"><div style="font-size:40px">🚻 ➡️</div><div><b>RESTROOMS</b></div><div class="image-desc">(Mô phỏng hình ảnh đề bài: Biển báo nhà vệ sinh có mũi tên chỉ sang phải)</div></div>`;
            }

            html += `<div class="options-grid">`;
            q.options.forEach((opt, i) => {
                html += `<button class="option-btn" onclick="checkAnswer(this, ${index}, ${i})">${opt}</button>`;
            });
            html += `</div>`;
            
            html += `<div id="explain-${index}" class="explanation">${q.explanation}</div>`;
            
            card.innerHTML = html;
            quizContainer.appendChild(card);
        });
    }

    window.checkAnswer = function(btn, questionIndex, optionIndex) {
        const question = questions[questionIndex];
        const buttons = btn.parentElement.querySelectorAll('.option-btn');
        const explanationDiv = document.getElementById(`explain-${questionIndex}`);

        // Disable all buttons for this question
        buttons.forEach(b => b.classList.add('disabled'));

        if (optionIndex === question.correct) {
            // Correct
            btn.classList.add('correct');
            explanationDiv.style.display = 'block';
            explanationDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        } else {
            // Incorrect
            btn.classList.add('wrong');
            
            // Allow retry: Enable buttons again except the wrong one (optional UX choice, but user asked for "Alarm red and let me retry")
            // Re-enabling buttons for retry logic:
            buttons.forEach(b => {
                if (!b.classList.contains('wrong')) {
                    b.classList.remove('disabled');
                }
            });
            
            // Highlight the correct one? No, let them retry.
            // But if we want to show explanation immediately on correct answer only.
            // If user wants to retry, we don't show explanation yet.
        }
    };

    // Initialize
    renderQuiz();
</script>

</body>
</html>